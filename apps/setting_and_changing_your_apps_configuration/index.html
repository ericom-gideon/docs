<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="msvalidate.01" content="30681728D02314C28E73C01119E51FE8" />
        
        
        <link rel="canonical" href="http://help.ninefold.com/apps/setting_and_changing_your_apps_configuration/">
        <link rel="shortcut icon" href="../../img/favicon.ico">

        <title>App configuration and infrastructure - Ninefold</title>

        <link href="../../css/bootstrap.min.css" rel="stylesheet">
        <link href="../../css/font-awesome.min.css" rel="stylesheet">
        <link href="../../css/prettify-1.0.css" rel="stylesheet">
        <link href="../../css/base.css" rel="stylesheet">

        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->

        

       <script>
            (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
            })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

            ga('create', 'UA-20888012-1', 'auto');
            ga('send', 'pageview');

        </script>

        <script>
          (function() {
            var cx = '007510500888672052678:j-vcw1lhenu';
            var gcse = document.createElement('script');
            gcse.type = 'text/javascript';
            gcse.async = true;
            gcse.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') +
                '//www.google.com/cse/cse.js?cx=' + cx;
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(gcse, s);
          })();
        </script>
        
    </head>

    <body>

        <div id="ninefold-nav" class="navbar navbar-inverse " role="navigation">
    <div class="container">
        <div class="ninefold-nav">
            <div class="navbar-header">
                <a title="Ninefold" class="mast__topbar__logo logo" href="https://ninefold.com"></a>
              
                
           
            </div>
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target=".nine-navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <div class="collapse nine-navbar-collapse navbar-collapse">
                <ul class="nav navbar-nav">
                <li>
                  <a href="https://ninefold.com/pricing">Pricing</a>
                </li>
                <li>
                  <a href="https://ninefold.com/performance">Performance</a>
                </li>
                <li>
                  <a href="https://ninefold.com/testimonials">Testimonials</a>
                </li>
                <li>
                  <a href="https://ninefold.com/news">News</a>
                </li>
                <li>
                  <a href="https://ninefold.com/blog">Blog</a>
                </li>
                <li>
                  <a href="https://ninefold.com/about-us">About Us</a>
                </li>
                <li class="active">
                  <a href="http://help.ninefold.com">Docs</a>
                </li>
                <li class="signin">
                  <a href="http://portal.ninefold.com">Sign in</a>
                </li>
                </ul>
            </div>

        </div>
    </div>

</div>
<div class="main-nav">
    <div class="container">

        <!-- Collapsed navigation -->
        <div class="navbar-header">
            <!-- Expander button -->
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target=".main-navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <i class="fa fa-chevron-down"></i>
            </button>

            <!-- Main title -->
            <!-- <a class="navbar-brand" href="../..">Ninefold</a> -->
        </div>

        <!-- Expanded navigation -->
        <div class="main-navbar-collapse navbar-collapse collapse">
            <!-- Main navigation -->
            <ul class="nav navbar-nav">
            
            
                <li >
                    <a href="../..">Home</a>
                </li>
            
            
            
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Getting Started <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        <li >
                            <a href="../../getstarted/how_to_deploy_an_app/">Deploy an app</a>
                        </li>
                    
                        <li >
                            <a href="../../getstarted/how_to_install_and_utilize_the_cli/">Utilize the CLI</a>
                        </li>
                    
                        <li >
                            <a href="../../getstarted/how_to_migrate_from_heroku/">Migrating from Heroku</a>
                        </li>
                    
                        <li >
                            <a href="../../getstarted/how_ninefold_works_with_github_bitbucket_and_git_url/">GitHub, Bitbucket and Git URL</a>
                        </li>
                    
                        <li >
                            <a href="../../getstarted/how_to_utilize_ninefold_logging/">Ninefold logging</a>
                        </li>
                    
                        <li >
                            <a href="../../getstarted/exporting_and_importing_postgresql_data/">Exporting and importing PostgreSQL data</a>
                        </li>
                    
                        <li >
                            <a href="../../getstarted/how_to_deploy_diaspora/">Deploy Diaspora</a>
                        </li>
                    
                    </ul>
                </li>
            
            
            
                <li class="dropdown active">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">App Deployment <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        <li >
                            <a href="../deployment_with_continuous_integration_ci/">Deployment with CI</a>
                        </li>
                    
                        <li >
                            <a href="../deploying_a_rails_app_with_your_own_database/">Deploying a Rails app with your own database</a>
                        </li>
                    
                        <li >
                            <a href="../asset_precompile_on_ninefold/">Asset precompilation</a>
                        </li>
                    
                        <li >
                            <a href="../setting_up_deployment_notifications/">Deployment notifications</a>
                        </li>
                    
                        <li >
                            <a href="../zero_downtime_deployment_for_your_ninefold_rails_app/">Zero downtime deployment</a>
                        </li>
                    
                        <li class="active">
                            <a href="./">App configuration and infrastructure</a>
                        </li>
                    
                        <li >
                            <a href="../private_gem_repos_on_github_and_bitbucket/">Private gem repos</a>
                        </li>
                    
                        <li >
                            <a href="../what_happens_and_what_gets_built_on_a_rails_app_deployment/">What happens during deployment</a>
                        </li>
                    
                        <li >
                            <a href="../ssl_management_for_rails_apps/">SSL for Rails apps</a>
                        </li>
                    
                        <li >
                            <a href="../dns_management_for_rails_apps/">DNS management for Rails apps</a>
                        </li>
                    
                        <li >
                            <a href="../setup_elasticsearch/">Setup Elasticsearch</a>
                        </li>
                    
                        <li >
                            <a href="../adding_sendgrid_to_your_rails_app/">Adding SendGrid</a>
                        </li>
                    
                        <li >
                            <a href="../redisforapps/">Redis Setup</a>
                        </li>
                    
                        <li >
                            <a href="../creating_scheduled_tasks_in_rails/">Creating scheduled tasks</a>
                        </li>
                    
                        <li >
                            <a href="../backing_up_and_restoring_your_rails_db/">Backup and restore your database</a>
                        </li>
                    
                        <li >
                            <a href="../redeploying_an_app/">Redeploying an app</a>
                        </li>
                    
                        <li >
                            <a href="../postgres_and_postgis_and_modules/">PostgreSQL, PostGIS, and PostgreSQL modules</a>
                        </li>
                    
                        <li >
                            <a href="../how_to_utilize_a_cdn_with_ninefold/">How to utilize a CDN</a>
                        </li>
                    
                        <li >
                            <a href="../upgrading_from_rails_40_to_41/">Upgrading from Rails 4.0 to 4.1</a>
                        </li>
                    
                    </ul>
                </li>
            
            
            
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Servers <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        <li >
                            <a href="../../servers/how_to_create_a_docker_server/">Docker containers</a>
                        </li>
                    
                        <li >
                            <a href="../../servers/create/">Create a server</a>
                        </li>
                    
                        <li >
                            <a href="../../servers/resize/">Resize your server</a>
                        </li>
                    
                        <li >
                            <a href="../../servers/liveview/">Access your server with live view</a>
                        </li>
                    
                        <li >
                            <a href="../../servers/how_to_clone_your_server/">Clone a server</a>
                        </li>
                    
                        <li >
                            <a href="../../servers/how_to_attach_and_upload_an_iso/">Upload and attach an ISO</a>
                        </li>
                    
                        <li >
                            <a href="../../servers/how_to_create_a_template_from_your_server/">Create a template from your server</a>
                        </li>
                    
                        <li >
                            <a href="../../servers/moving/">Copying or moving servers between regions</a>
                        </li>
                    
                        <li >
                            <a href="../../servers/how_to_add_storage_volumes/">Add storage volumes</a>
                        </li>
                    
                        <li >
                            <a href="../../servers/how_to_view_attached_and_detached_storage_volumes/">View attached/detached storage volumes</a>
                        </li>
                    
                        <li >
                            <a href="../../servers/how_to_detach_then_reattach_a_storage_volume/">Detach then reattach a storage volume</a>
                        </li>
                    
                        <li >
                            <a href="../../servers/using_backups_to_protect_your_data/">Using backups to protect your data</a>
                        </li>
                    
                        <li >
                            <a href="../../servers/new_server_username_and_password/">New server username and password</a>
                        </li>
                    
                        <li >
                            <a href="../../servers/resetting_server_password/">Reset your server password</a>
                        </li>
                    
                        <li >
                            <a href="../../servers/how_to_connect_to_your_server_using_ssh_rdp/">Connect using SSH / RDP</a>
                        </li>
                    
                        <li >
                            <a href="../../servers/how_to_activate_windows_server/">Activate Windows Server</a>
                        </li>
                    
                        <li >
                            <a href="../../servers/microsoft_licensing_can_i_use_my_existing_software_and_licenses_on_ninefold/">Microsoft licensing</a>
                        </li>
                    
                    </ul>
                </li>
            
            
            
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Networking <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        <li >
                            <a href="../../networking/ninefold_net/">Enable Ninefold Net</a>
                        </li>
                    
                        <li >
                            <a href="../../networking/dns_management_for_servers/">DNS management for servers</a>
                        </li>
                    
                        <li >
                            <a href="../../networking/setup_load_balancing_single_zone/">Setup load balancing</a>
                        </li>
                    
                        <li >
                            <a href="../../networking/setting_up_static_nat_and_port_forward_for_ip_addresses/">Static NAT & port forward</a>
                        </li>
                    
                        <li >
                            <a href="../../networking/how_to_open_firewall_ports/">Open firewall ports</a>
                        </li>
                    
                        <li >
                            <a href="../../networking/disable_server_os_firewall/">Disable server OS firewall</a>
                        </li>
                    
                        <li >
                            <a href="../../networking/how_to_setup_global_load_balancing_for_servers/">Global load balancing</a>
                        </li>
                    
                        <li >
                            <a href="../../networking/how_to_delegate_your_domain_to_ninefold/">Delegate your domain</a>
                        </li>
                    
                        <li >
                            <a href="../../networking/how_to_release_or_unassign_your_ip_addresses/">How to release or unassign your IP addresses</a>
                        </li>
                    
                        <li >
                            <a href="../../networking/how_to_use_multiple_ip_addresses_on_a_server/">How to use multiple IP addresses</a>
                        </li>
                    
                    </ul>
                </li>
            
            
            
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Accounts & Billing <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        <li >
                            <a href="../../billing/freetrial/">Free trial</a>
                        </li>
                    
                        <li >
                            <a href="../../billing/createuser/">Creating additional users</a>
                        </li>
                    
                        <li >
                            <a href="../../billing/closeaccount/">How to close your account</a>
                        </li>
                    
                        <li >
                            <a href="../../billing/faq/">Billing FAQ</a>
                        </li>
                    
                    </ul>
                </li>
            
            
            
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Reference <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        <li >
                            <a href="../../reference/faq/">FAQ</a>
                        </li>
                    
                        <li >
                            <a href="../../reference/apdex/">Apdex to measure user satisfaction</a>
                        </li>
                    
                        <li >
                            <a href="../../reference/API/">Using the API (v2)</a>
                        </li>
                    
                        <li >
                            <a href="../../reference/contributing/">Contribute to our docs</a>
                        </li>
                    
                    </ul>
                </li>
            
            
            </ul>

            <!-- Search, Navigation and Repo links -->
            <ul class="nav navbar-nav navbar-left">
                
                
                <li>
                   <a href="#searchModal" data-toggle="modal"><i class="fa fa-search"></i></a> 
 
                </li>
            
                
                <!-- 
                <li>
                    <a href="https://github.com/ninefold/docs/">
                        
                            <i class="fa fa-github"></i>
                        
                        GitHub
                    </a>
                </li>
                 -->
            </ul>
        </div>
    </div>
</div>

        <div class="container-fluid">
         
            <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
    
        <li class="main active"><a href="#app-configuration-and-infrastructure">App configuration and infrastructure</a></li>
        
            <li class="subsection"><a href="#setting-infrastructure">Setting infrastructure</a></li>
        
            <li class="subsection"><a href="#setting-config">Setting config</a></li>
        
            <li class="subsection"><a href="#changing-infrastructure">Changing infrastructure</a></li>
        
            <li class="subsection"><a href="#changing-configuration">Changing configuration</a></li>
        
    
    </ul>
</div></div>

            <div class="col-md-9" role="main">

                <div class="col-md-12 hidden-xs hidden-sm">
                    <a href="https://github.com/ninefold/docs/tree/master/docs/apps/setting_and_changing_your_apps_configuration.md" class="github-btn btn btn-default pull-right"> <span class="fa fa-github"></span> Edit on GitHub</a>
                </div>
                <div class="col-md-12 hidden-xs hidden-sm"></br></div>
                
                   

<h2 id="app-configuration-and-infrastructure">App configuration and infrastructure</h2>
<p>Consider the infrastructure and configuration the Superman and Batman of your Justice League Rails app. You know, the essentials parts for success.</p>
<h4 id="setting-infrastructure">Setting infrastructure</h4>
<p>The initial infrastructure for your app is chosen in <strong>Step 2</strong> of the deploy process. </p>
<p>The default setting is to have your app and database reside on separate servers. This allows for your app to be scaled vertically or horizontally very easily through the Portal interface. All server types have a root disk size of 20GB.</p>
<p><strong>Web server</strong></p>
<p>The web server is your actual Rails application. Only one app server is created during first deployment. App server sizes can go up to 24GB RAM with 8 vCPU, however if you are on the 30-day trial period, the higher options may not be available.</p>
<p><strong>Database server</strong></p>
<p>Ninefold supports Postgres for standard Rails deployments. If you’d like to create an app without the Postgres database server affixed, please uncheck this box. This is an excellent option if you have your database hosted externally.</p>
<p>If you’re looking to create a small development environment, there is an option to have your app and database reside on the same server. Just choose the development application architecture in step 2 of the deployment wizard.</p>
<p>Similar to the Web server, the database server size can go up to 24GB RAM with 8 vCPU, but may be limited during the trial period.</p>
<p>Database Size by default is set to 25GB, but can go up to 1500GB. This can be resized at any time in the Portal, under the Database tab.</p>
<p><strong>Background worker server</strong></p>
<p>Redis will be enabled for your app server and is free of charge. There are times that you may need a completely separate worker server. This option is great for apps that need to handle a lot of background jobs. </p>
<p>You can choose where Redis will be installed:</p>
<ul>
<li>Dedicated: If you are installing Redis on a separate VM, you will need to also select the server size.</li>
<li>Combined: Installed on the same VM as the web.</li>
</ul>
<p><strong>Recommended infrastructure</strong></p>
<p>If you want some pointers on sizing, please feel free to chat up the fabulous Ninefold Support. Tell us what your app does, if you are using a CDN and how many users you expect on the site at once. </p>
<h4 id="setting-config">Setting config</h4>
<p>Initial step when deploying your app to Ninefold is configuring your app.  Here, you are given the opportunity to customize some aspects of your deployment:</p>
<p><strong>Name your app:</strong></p>
<p>The default name for your app is the repository followed by the branch, but you can change this to whatever you like.  This will also be the subdomain in the link to your app.  For example, if you deploy an app form repository example and branch master, your URL will be examplemasterxxxx.ninefold-apps.com.</p>
<p><strong>Software stack</strong></p>
<p>Ruby version should be pretty self-explanatory.   We do some checks to see if we can automatically populate this field with the correct version, but you should make sure your app is compatible with the selected version before deploying.</p>
<p>Environment variables can also be set in this step.  By default, we provide the RAILS_ENV variable preset to production, but this can be changed to reflect any environment you have specified in your app.  We also provide a unique SECRET_TOKEN.  This is randomly generated when you get to this page and can be used for whatever you like.  You can also change it to use your own secret token if you have one or you can remove it completely.  This is also the place to put any private environment variables you need to set that you wouldn't typically commit as part of configuration (an example being APIs).  </p>
<p><strong>Add-ons</strong></p>
<p>These fields will auto-populate if you have the services set up in your app and will work out of the box.  We check to see if you're running Memcached and New Relic. If you would like to add these to your infrastructure, and then add the services to your repository later, that's okay, too.</p>
<p><strong>Additional deployment commands</strong></p>
<p>You can run commands from the command line of your app server(s) from here in the same format as if you were running the command in Bash. This allows you to do perform tasks like run rake tasks against your database after running your migrations.</p>
<p>Keep in mind that you won’t have to run the following types of commands as Ninefold does this all for you:</p>
<pre class="prettyprint well"><code>rake db:setup

rake db:migration

rake asset:precompile
</code></pre>
<p>but a great example would be:</p>
<pre class="prettyprint well"><code>mv config/redis.yml.sample config/redis.yml
</code></pre>
<p>for your Redis config. </p>
<p>These pre- and post-migration commands will be run each time you commit to your branch or press <strong>Force Redeploy</strong>.</p>
<p>If you change any of these settings, be prepared to redeploy for these changes to take affect.  </p>
<h4 id="changing-infrastructure">Changing infrastructure</h4>
<p>After your app has successfully deployed, you can change your infrastructure whenever you like.  </p>
<p><strong>Vertically</strong></p>
<p><em>Scaling existing server size up or down</em></p>
<p>With any setup you choose, you can scale your app servers outwards (unless you chose the biggest one at 24GB!). </p>
<p>All you need to do is go to the <strong>Infrastructure</strong> tab, click <em>Edit</em>, choose your new size for the server of your choice, click <strong>Save</strong> and then redeploy. </p>
<p><strong>Horizontally</strong></p>
<p><em>Adding/reducing servers of the same type that exist already</em></p>
<p>That's easy. All you need to do is go to the <strong>Infrastructure</strong> tab, click <em>Edit</em>, choose the amount of servers of the right type, click <strong>Save</strong> and then redeploy. We'll copy the existing server into new ones (or take ones out). The load balancer will be updated to send traffic to the correct servers. </p>
<p><em>Adding servers of a different type</em></p>
<p>Let's break this down with an example: say your app now needs a worker server now. In this case, you'll need to deploy another app that includes the worker server. </p>
<p><em>Breaking apart a deployed development app (Web + DB + Worker)</em></p>
<p>Often, developers will deploy an app with everything installed in one VM to limit the use of resources. As your 'Uber for bodyguards' scales out, it will make sense to break apart your web, db and worker so that it is easy to scale both horizontally and vertically in the future. This requires a deployment of a new app to make this fundamental infrastructure change. </p>
<h4 id="changing-configuration">Changing configuration</h4>
<p>After your app has successfully deployed, you can change your configuration whenever you like under Your App &gt; <strong>Configuration</strong> tab. </p>
<ul>
<li>Current settings</li>
<li>Deployment triggers</li>
<li>Environment variables</li>
</ul>


</br></br></br></br>
            </div>
        </div>

        <div class="modal fade" id="searchModal" tabindex="-1" role="dialog" aria-labelledby="searchModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-lg">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
        <h4 class="modal-title" id="searchModalLabel">Documentation search</h4>
      </div>
      <div class="modal-body">

        <form onsubmit="return executeQuery();" id="cse-search-box-form-id">
          <input type="search" class="form-control" id="cse-search-input-box-id" placeholder="Search">
        </form>

        <script type="text/javascript">
          function executeQuery() {
            var input = document.getElementById('cse-search-input-box-id');
            var element = google.search.cse.element.getElement('searchresults-only0');
            if (input.value == '') {
              element.clearAllResults();
            } else {
              element.execute(input.value);
            }
            return false;
          }
        </script>


        <gcse:searchresults-only></gcse:searchresults-only>
       
      </div>
    </div>
  </div>
</div>

        <script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
        <script src="../../js/bootstrap.min.js"></script>
        <script src="../../js/prettify-1.0.min.js"></script>

        <script src="../../js/base.js"></script>
    </body>
</html>