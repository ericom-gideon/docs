<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="msvalidate.01" content="30681728D02314C28E73C01119E51FE8" />
        
        
        <link rel="canonical" href="http://help.ninefold.com/getstarted/how_to_migrate_from_heroku/">
        <link rel="shortcut icon" href="../../img/favicon.ico">

        <title>Migrating from Heroku - Ninefold</title>

        <link href="../../css/bootstrap.min.css" rel="stylesheet">
        <link href="../../css/font-awesome.min.css" rel="stylesheet">
        <link href="../../css/prettify-1.0.css" rel="stylesheet">
        <link href="../../css/base.css" rel="stylesheet">

        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->

        

       <script>
            (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
            })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

            ga('create', 'UA-20888012-1', 'auto');
            ga('send', 'pageview');

        </script>

        <script>
          (function() {
            var cx = '007510500888672052678:j-vcw1lhenu';
            var gcse = document.createElement('script');
            gcse.type = 'text/javascript';
            gcse.async = true;
            gcse.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') +
                '//www.google.com/cse/cse.js?cx=' + cx;
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(gcse, s);
          })();
        </script>

        <script type="text/javascript">
            var __lc = {};
            __lc.license = 1076997;

            (function() {
                var lc = document.createElement('script'); lc.type = 'text/javascript'; lc.async = true;
                lc.src = ('https:' == document.location.protocol ? 'https://' : 'http://') + 'cdn.livechatinc.com/tracking.js';
                var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(lc, s);
            })();
        </script>
        
    </head>

    <body>

        <div id="ninefold-nav" class="navbar navbar-inverse " role="navigation">
    <div class="container">
        <div class="ninefold-nav">
            <div class="navbar-header">
                <a title="Ninefold" class="mast__topbar__logo logo" href="https://ninefold.com"></a>
              
                
           
            </div>
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target=".nine-navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <div class="collapse nine-navbar-collapse navbar-collapse">
                <ul class="nav navbar-nav">
                <li>
                  <a href="https://ninefold.com/pricing">Pricing</a>
                </li>
                <li>
                  <a href="https://ninefold.com/performance">Performance</a>
                </li>
                <li>
                  <a href="https://ninefold.com/testimonials">Testimonials</a>
                </li>
                <li>
                  <a href="https://ninefold.com/news">News</a>
                </li>
                <li>
                  <a href="https://ninefold.com/blog">Blog</a>
                </li>
                <li>
                  <a href="https://ninefold.com/about-us">About Us</a>
                </li>
                <li class="active">
                  <a href="http://help.ninefold.com">Docs</a>
                </li>
                <li class="signin">
                  <a href="http://portal.ninefold.com">Sign in</a>
                </li>
                </ul>
            </div>

        </div>
    </div>

</div>
<div class="main-nav">
    <div class="container">

        <!-- Collapsed navigation -->
        <div class="navbar-header">
            <!-- Expander button -->
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target=".main-navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <i class="fa fa-chevron-down"></i>
            </button>

            <!-- Main title -->
            <!-- <a class="navbar-brand" href="../..">Ninefold</a> -->
        </div>

        <!-- Expanded navigation -->
        <div class="main-navbar-collapse navbar-collapse collapse">
            <!-- Main navigation -->
            <ul class="nav navbar-nav">
            
            
                <li >
                    <a href="../..">Home</a>
                </li>
            
            
            
                <li class="dropdown active">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Getting Started <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        <li >
                            <a href="../how_to_deploy_an_app/">Deploy an app</a>
                        </li>
                    
                        <li >
                            <a href="../how_to_install_and_utilize_the_cli/">Utilize the CLI</a>
                        </li>
                    
                        <li class="active">
                            <a href="./">Migrating from Heroku</a>
                        </li>
                    
                        <li >
                            <a href="../how_ninefold_works_with_github_bitbucket_and_git_url/">GitHub, Bitbucket and Git URL</a>
                        </li>
                    
                        <li >
                            <a href="../how_to_utilize_ninefold_logging/">Ninefold logging</a>
                        </li>
                    
                        <li >
                            <a href="../exporting_and_importing_postgresql_data/">Exporting and importing PostgreSQL data</a>
                        </li>
                    
                        <li >
                            <a href="../how_to_deploy_diaspora/">Deploy Diaspora</a>
                        </li>
                    
                    </ul>
                </li>
            
            
            
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">App Deployment <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        <li >
                            <a href="../../apps/deployment_with_continuous_integration_ci/">Deployment with CI</a>
                        </li>
                    
                        <li >
                            <a href="../../apps/deploying_a_rails_app_with_your_own_database/">Deploying a Rails app with your own database</a>
                        </li>
                    
                        <li >
                            <a href="../../apps/asset_precompile_on_ninefold/">Asset precompilation</a>
                        </li>
                    
                        <li >
                            <a href="../../apps/setting_up_deployment_notifications/">Deployment notifications</a>
                        </li>
                    
                        <li >
                            <a href="../../apps/zero_downtime_deployment_for_your_ninefold_rails_app/">Zero downtime deployment</a>
                        </li>
                    
                        <li >
                            <a href="../../apps/setting_and_changing_your_apps_configuration/">App configuration and infrastructure</a>
                        </li>
                    
                        <li >
                            <a href="../../apps/private_gem_repos_on_github_and_bitbucket/">Private gem repos</a>
                        </li>
                    
                        <li >
                            <a href="../../apps/what_happens_and_what_gets_built_on_a_rails_app_deployment/">What happens during deployment</a>
                        </li>
                    
                        <li >
                            <a href="../../apps/ssl_management_for_rails_apps/">SSL for Rails apps</a>
                        </li>
                    
                        <li >
                            <a href="../../apps/dns_management_for_rails_apps/">DNS management for Rails apps</a>
                        </li>
                    
                        <li >
                            <a href="../../apps/setup_elasticsearch/">Setup Elasticsearch</a>
                        </li>
                    
                        <li >
                            <a href="../../apps/adding_sendgrid_to_your_rails_app/">Adding SendGrid</a>
                        </li>
                    
                        <li >
                            <a href="../../apps/redisforapps/">Redis Setup</a>
                        </li>
                    
                        <li >
                            <a href="../../apps/creating_scheduled_tasks_in_rails/">Creating scheduled tasks</a>
                        </li>
                    
                        <li >
                            <a href="../../apps/backing_up_and_restoring_your_rails_db/">Backup and restore your database</a>
                        </li>
                    
                        <li >
                            <a href="../../apps/redeploying_an_app/">Redeploying an app</a>
                        </li>
                    
                        <li >
                            <a href="../../apps/postgres_and_postgis_and_modules/">PostgreSQL, PostGIS, and PostgreSQL modules</a>
                        </li>
                    
                        <li >
                            <a href="../../apps/how_to_utilize_a_cdn_with_ninefold/">How to utilize a CDN</a>
                        </li>
                    
                        <li >
                            <a href="../../apps/upgrading_from_rails_40_to_41/">Upgrading from Rails 4.0 to 4.1</a>
                        </li>
                    
                    </ul>
                </li>
            
            
            
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Servers <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        <li >
                            <a href="../../servers/how_to_create_a_docker_server/">Docker containers</a>
                        </li>
                    
                        <li >
                            <a href="../../servers/create/">Create a server</a>
                        </li>
                    
                        <li >
                            <a href="../../servers/resize/">Resize your server</a>
                        </li>
                    
                        <li >
                            <a href="../../servers/liveview/">Access your server with live view</a>
                        </li>
                    
                        <li >
                            <a href="../../servers/how_to_clone_your_server/">Clone a server</a>
                        </li>
                    
                        <li >
                            <a href="../../servers/how_to_attach_and_upload_an_iso/">Upload and attach an ISO</a>
                        </li>
                    
                        <li >
                            <a href="../../servers/how_to_create_a_template_from_your_server/">Create a template from your server</a>
                        </li>
                    
                        <li >
                            <a href="../../servers/moving/">Copying or moving servers between regions</a>
                        </li>
                    
                        <li >
                            <a href="../../servers/how_to_add_storage_volumes/">Add storage volumes</a>
                        </li>
                    
                        <li >
                            <a href="../../servers/how_to_view_attached_and_detached_storage_volumes/">View attached/detached storage volumes</a>
                        </li>
                    
                        <li >
                            <a href="../../servers/how_to_detach_then_reattach_a_storage_volume/">Detach then reattach a storage volume</a>
                        </li>
                    
                        <li >
                            <a href="../../servers/using_backups_to_protect_your_data/">Using backups to protect your data</a>
                        </li>
                    
                        <li >
                            <a href="../../servers/new_server_username_and_password/">New server username and password</a>
                        </li>
                    
                        <li >
                            <a href="../../servers/resetting_server_password/">Reset your server password</a>
                        </li>
                    
                        <li >
                            <a href="../../servers/how_to_connect_to_your_server_using_ssh_rdp/">Connect using SSH / RDP</a>
                        </li>
                    
                        <li >
                            <a href="../../servers/how_to_activate_windows_server/">Activate Windows Server</a>
                        </li>
                    
                        <li >
                            <a href="../../servers/microsoft_licensing_can_i_use_my_existing_software_and_licenses_on_ninefold/">Microsoft licensing</a>
                        </li>
                    
                    </ul>
                </li>
            
            
            
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Networking <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        <li >
                            <a href="../../networking/ninefold_net/">Enable Ninefold Net</a>
                        </li>
                    
                        <li >
                            <a href="../../networking/dns_management_for_servers/">DNS management for servers</a>
                        </li>
                    
                        <li >
                            <a href="../../networking/setup_load_balancing_single_zone/">Setup load balancing</a>
                        </li>
                    
                        <li >
                            <a href="../../networking/setting_up_static_nat_and_port_forward_for_ip_addresses/">Static NAT & port forward</a>
                        </li>
                    
                        <li >
                            <a href="../../networking/how_to_open_firewall_ports/">Open firewall ports</a>
                        </li>
                    
                        <li >
                            <a href="../../networking/disable_server_os_firewall/">Disable server OS firewall</a>
                        </li>
                    
                        <li >
                            <a href="../../networking/how_to_setup_global_load_balancing_for_servers/">Global load balancing</a>
                        </li>
                    
                        <li >
                            <a href="../../networking/how_to_delegate_your_domain_to_ninefold/">Delegate your domain</a>
                        </li>
                    
                        <li >
                            <a href="../../networking/how_to_release_or_unassign_your_ip_addresses/">How to release or unassign your IP addresses</a>
                        </li>
                    
                        <li >
                            <a href="../../networking/how_to_use_multiple_ip_addresses_on_a_server/">How to use multiple IP addresses</a>
                        </li>
                    
                    </ul>
                </li>
            
            
            
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Accounts & Billing <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        <li >
                            <a href="../../billing/freetrial/">Free trial</a>
                        </li>
                    
                        <li >
                            <a href="../../billing/createuser/">Creating additional users</a>
                        </li>
                    
                        <li >
                            <a href="../../billing/closeaccount/">How to close your account</a>
                        </li>
                    
                        <li >
                            <a href="../../billing/faq/">Billing FAQ</a>
                        </li>
                    
                    </ul>
                </li>
            
            
            
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Reference <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        <li >
                            <a href="../../reference/faq/">FAQ</a>
                        </li>
                    
                        <li >
                            <a href="../../reference/apdex/">Apdex to measure user satisfaction</a>
                        </li>
                    
                        <li >
                            <a href="../../reference/API/">Using the API (v2)</a>
                        </li>
                    
                        <li >
                            <a href="../../reference/contributing/">Contribute to our docs</a>
                        </li>
                    
                    </ul>
                </li>
            
            
            </ul>

            <!-- Search, Navigation and Repo links -->
            <ul class="nav navbar-nav navbar-left">
                
                
                <li>
                   <a href="#searchModal" data-toggle="modal"><i class="fa fa-search"></i></a> 
 
                </li>
            
                
                <!-- 
                <li>
                    <a href="https://github.com/ninefold/docs/">
                        
                            <i class="fa fa-github"></i>
                        
                        GitHub
                    </a>
                </li>
                 -->
            </ul>
        </div>
    </div>
</div>

        <div class="container-fluid">
         
            <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
    
        <li class="main active"><a href="#how-to-migrate-from-heroku-to-ninefold">How to migrate from Heroku To Ninefold</a></li>
        
            <li class="subsection"><a href="#remove-rails_12factor-gem">Remove rails_12factor gem</a></li>
        
            <li class="subsection"><a href="#managing-workers">Managing workers</a></li>
        
            <li class="subsection"><a href="#managing-add-ons">Managing add-ons</a></li>
        
            <li class="subsection"><a href="#postgres-packages">Postgres packages</a></li>
        
            <li class="subsection"><a href="#importing-your-database">Importing your database</a></li>
        
            <li class="subsection"><a href="#deployment">Deployment</a></li>
        
            <li class="subsection"><a href="#deployment-triggers">Deployment triggers</a></li>
        
            <li class="subsection"><a href="#env-vars">Env vars</a></li>
        
            <li class="subsection"><a href="#rake-tasks">Rake tasks</a></li>
        
            <li class="subsection"><a href="#scheduled-tasks">Scheduled Tasks</a></li>
        
    
    </ul>
</div></div>

            <div class="col-md-9" role="main">

                <div class="col-md-12 hidden-xs hidden-sm">
                    <a href="https://github.com/ninefold/docs/tree/master/docs/getstarted/how_to_migrate_from_heroku.md" class="github-btn btn btn-default pull-right"> <span class="fa fa-github"></span> Edit on GitHub</a>
                </div>
                <div class="col-md-12 hidden-xs hidden-sm"></br></div>
                
                   

<h2 id="how-to-migrate-from-heroku-to-ninefold">How to migrate from Heroku To Ninefold</h2>
<p>Welcome to Ninefold! We have a couple of tasks we need you to do in order to migrate to Ninefold successfully. They are easy --- we promise!</p>
<h4 id="remove-rails_12factor-gem">Remove rails_12factor gem</h4>
<p>Open your Gemfile and remove the rails_12factor gem and save.</p>
<p>Run:</p>
<pre class="prettyprint well"><code>$ bundle

$ rake db:schema:dump
</code></pre>
<p>Commit changes and push to the repository of your choice.</p>
<h5 id="why-remove-the-rails_12factor-gem">Why remove the rails_12factor gem?</h5>
<p>We ask that this gem is removed because it installs 2 subsequent gems:</p>
<ul>
<li>
<p>rails_stdouting which sends logs to STDOUT</p>
</li>
<li>
<p>rails_serve_static_assets which sets config.serve_static_assets = true</p>
</li>
</ul>
<p>Neither of these gems are necessary with Ninefold.  We handle your logging and managing asset configuration.</p>
<p>config.serve_static_assets = true configures Rails itself to serve static assets. The Rails default setting is true except in the production environment. On Ninefold, we configure the web server (Apache by default) to serve public assets directly and to prefer gzip versions with proper cache headers on all fingerprinted files i.e. all precompiled assets. Setting this option as true will prevent proper page caching and will lower the performance of your app.</p>
<p>Heroku also requires config.assets.initialize_on_precompile = true on Rails 3.x since the application database is not available during slug compilation.  On Ninefold, we precompile assets in the full application environment so the Rails 3.x default setting config.assets.initialize_on_precompile = false will work without change. This option is not required for Rails 4.x.</p>
<h4 id="managing-workers">Managing workers</h4>
<p>If you have workers set up currently on Heroku, you will not have to do anything. Since you've already got your Procfile set up, we will automatically run it natively as Foreman is preinstalled and running on your app server.</p>
<p>If youâ€™re using a service like Redis To Go, you can instead use the Redis instance we provide in the Ninefold environment.  </p>
<h4 id="managing-add-ons">Managing add-ons</h4>
<p>Ninefold has the following add-ons built in: Redis, New Relic, Memcached, and Sendgrid.</p>
<p>For any add-ons you have, you will need to follow the API documentation on their site so they can get up and running with us.</p>
<p>We're actively looking to add more built in add-ons as part of our setup for your apps, so keep an eye out as we build up our ecosystem!</p>
<h4 id="postgres-packages">Postgres packages</h4>
<p>We currently add the following extensions and modules to every Postgres installation:</p>
<p>adminpack, autoinc, btree_gin, btree_gist, chkpass, citext, cube, dblink, dict_int, dict_xsyn, earthdistance, file_fdw, fuzzystrmatch, hstore, insert_username, intagg, intarray, isn, lo, ltree, moddatetime, pageinspect, pg_buffercache, pg_freespacemap, pg_stat_statements, pg_trgm, pgcrypto, pgrowlocks, pgstattuple, plpgsql, postgis, refint, seg, sslinfo, tablefunc, tcn, test_parser, timetravel, tsearch2, unaccent, uuid-ossp, and xml2</p>
<p>Note: the selected postgis package is one compatible for 9.2, the Ubuntu package installed is postgresql-9.2-postgis-2.1.</p>
<h4 id="importing-your-database">Importing your database</h4>
<p>Both Ninefold and Heroku use PostgreSQL databases. Importing across is easy. Check out our <a href="../exporting_and_importing_postgresql_data/">KB article</a> on how to do that here.</p>
<h4 id="deployment">Deployment</h4>
<p>Here at Ninefold, we want to make app deployment and maintenance easy.</p>
<p>The first time you deploy your app, Ninefold will run the following commands:</p>
<ul>
<li>bundle</li>
<li>rake db:setup (by definition this includes db:create, db:schema:load_if_ruby/db:structure:load_if_sql, and db:seed)</li>
<li>rake db:migrate</li>
<li>rake assets:precompile.  </li>
</ul>
<p>For every code revision, Ninefold will autodeploy for you. It's pretty awesome. No more git push origin master then git push heroku master and heroku run rake db:migrate. It's just git push origin master.  During these subsequent autodeploys, we run: bundle, rake db:migrate, and rake assets:precompile.</p>
<p><em>If you disabled post-commit hooks, you can enable them in the Overview tab of your app. This allows us to check when you've made a code push and autodeploy those changes immediately.</em></p>
<h4 id="deployment-triggers">Deployment triggers</h4>
<p>Say that you have a rake task that needs to be run after every migration, rake screw:cork. Or perhaps you have to move a folder before every migration. You would be able to run these commands in our deployment triggers (pre- and post-migration). The directions to do this are found <a href="../../apps/setting_and_changing_your_apps_configuration/">here</a>.</p>
<h4 id="env-vars">Env vars</h4>
<p>To bring over your environment variables from Heroku, from the root directory of your app run:</p>
<pre class="prettyprint well"><code>$ heroku config --shell
</code></pre>
<p>Copy the variables from there and paste them directly into the Environment variables section in your deployment setup. You can also add them later under the <strong>Configuration</strong> tab.</p>
<hr />
<p><em>NOTE: Make sure to copy only the environment variables you will need. If you have Ninefold provision a PG database for you, you will NOT need to bring over the env var DATABASE_URL.</em></p>
<hr />
<h4 id="rake-tasks">Rake tasks</h4>
<p>Say that you've got a rake task that needs to be run only once, such as rake db:categories. You can use our <a href="../how_to_install_and_utilize_the_cli/">awesome CLI</a> to connect to your app. From there you can run rails console or run rake tasks or even run dbconsole. Super sweet.</p>
<h4 id="scheduled-tasks">Scheduled Tasks</h4>
<p>Scheduled tasks are easy to create and use. We've got documentation on how to create and run them <a href="../../apps/creating_scheduled_tasks_in_rails/">here</a>.</p>


</br></br></br></br>
            </div>
        </div>

        <div class="modal fade" id="searchModal" tabindex="-1" role="dialog" aria-labelledby="searchModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-lg">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
        <h4 class="modal-title" id="searchModalLabel">Documentation search</h4>
      </div>
      <div class="modal-body">

        <form onsubmit="return executeQuery();" id="cse-search-box-form-id">
          <input type="search" class="form-control" id="cse-search-input-box-id" placeholder="Search">
        </form>

        <script type="text/javascript">
          function executeQuery() {
            var input = document.getElementById('cse-search-input-box-id');
            var element = google.search.cse.element.getElement('searchresults-only0');
            if (input.value == '') {
              element.clearAllResults();
            } else {
              element.execute(input.value);
            }
            return false;
          }
        </script>


        <gcse:searchresults-only></gcse:searchresults-only>
       
      </div>
    </div>
  </div>
</div>

        <script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
        <script src="../../js/bootstrap.min.js"></script>
        <script src="../../js/prettify-1.0.min.js"></script>

        <script src="../../js/base.js"></script>
    </body>
</html>